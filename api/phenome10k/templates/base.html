<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  {% if title %}
    <title>{{ title }} | Phenome10k</title>
  {% else %}
    <title>Phenome10k</title>
  {% endif %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/core.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
  {% block stylesheets %}
    {% if local_sheets %}
      {% for filepath in local_sheets %}
        <link rel="stylesheet" href="{{ url_for('static', filename='css/' + filepath) }}">
      {% endfor %}
    {% endif %}
  {% endblock %}
</head>

<body class="Grid">
<div class="Grid__header">
  {% if not current_user.is_anonymous %}
    {% include 'snippets/subnav.html' %}
    <div class="Header__user">
      Signed in as <a><b>{{ current_user.name }}</b></a>
    </div>
  {% endif %}
  <span class="Header__divider"></span>
  {% include 'snippets/nav.html' %}
  <div class="Header__auth">
    {% if current_user.is_anonymous %}
      <a href="{{ url_for('user.login') }}">Sign in</a>
    {% else %}
      <a href="{{ url_for('user.logout') }}">Sign Out</a>
    {% endif %}
  </div>
</div>

<div class="Grid__sidebar">
  <img src="{{ url_for('static', filename='logo.png') }}" alt="The Phenome10k logo" class="Sidebar__logo">
  <div class="Sidebar__body">
    {% block sidebar %}{% endblock %}
  </div>
</div>

<main class="Grid__body">
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <ul>
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}
  {% block content %}{{ content | safe }}{% endblock %}
</main>
</body>
</html>
